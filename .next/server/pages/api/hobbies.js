"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "pages/api/hobbies";
exports.ids = ["pages/api/hobbies"];
exports.modules = {

/***/ "./lib/prisma.ts":
/*!***********************!*\
  !*** ./lib/prisma.ts ***!
  \***********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _prisma_client__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @prisma/client */ \"@prisma/client\");\n/* harmony import */ var _prisma_client__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_prisma_client__WEBPACK_IMPORTED_MODULE_0__);\n // add prisma to the the NodeJS global type\n\nconst prisma = global.prisma || new _prisma_client__WEBPACK_IMPORTED_MODULE_0__.PrismaClient();\nif (true) global.prisma = prisma;\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (prisma);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9saWIvcHJpc21hLnRzLmpzIiwibWFwcGluZ3MiOiI7Ozs7OztDQUVBOztBQVFBLE1BQU1DLE1BQU0sR0FBR0MsTUFBTSxDQUFDRCxNQUFQLElBQWlCLElBQUlELHdEQUFKLEVBQWhDO0FBQ0EsSUFBSSxNQUF3Q0UsTUFBTSxDQUFDRCxNQUFQLEdBQWdCQSxNQUFoQjtBQUU1QyxpRUFBZUEsTUFBZiIsInNvdXJjZXMiOlsid2VicGFjazovL2hvYmJ5LWFwcC8uL2xpYi9wcmlzbWEudHM/ZDcyOCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBQcmlzbWFDbGllbnQgfSBmcm9tICdAcHJpc21hL2NsaWVudCc7XG5cbi8vIGFkZCBwcmlzbWEgdG8gdGhlIHRoZSBOb2RlSlMgZ2xvYmFsIHR5cGVcbmludGVyZmFjZSBDdXN0b21Ob2RlSnNHbG9iYWwgZXh0ZW5kcyBOb2RlSlMuR2xvYmFsIHtcbiAgICBwcmlzbWE6IFByaXNtYUNsaWVudFxufVxuXG4vLyBwcmV2ZW50IG11bHRpcGxlIGluc3RhbmNlcyBvZiBQcmlzbWEgQ2xpZW50IGluIGRldmVsb3BtZW50XG5kZWNsYXJlIGNvbnN0IGdsb2JhbDogQ3VzdG9tTm9kZUpzR2xvYmFsXG5cbmNvbnN0IHByaXNtYSA9IGdsb2JhbC5wcmlzbWEgfHwgbmV3IFByaXNtYUNsaWVudCgpO1xuaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSAnZGV2ZWxvcG1lbnQnKSBnbG9iYWwucHJpc21hID0gcHJpc21hO1xuXG5leHBvcnQgZGVmYXVsdCBwcmlzbWE7XG5cblxuIl0sIm5hbWVzIjpbIlByaXNtYUNsaWVudCIsInByaXNtYSIsImdsb2JhbCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./lib/prisma.ts\n");

/***/ }),

/***/ "./pages/api/hobbies.ts":
/*!******************************!*\
  !*** ./pages/api/hobbies.ts ***!
  \******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ handle)\n/* harmony export */ });\n/* harmony import */ var _prisma_client__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @prisma/client */ \"@prisma/client\");\n/* harmony import */ var _prisma_client__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_prisma_client__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _lib_prisma__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../lib/prisma */ \"./lib/prisma.ts\");\n\n // GET /api/hobbies?category=:categoryQuery&search=:searchQuery\n\nasync function handle(req, res) {\n  const categoryQuery = Array.isArray(req.query.category) ? req.query.category[0] : req.query.category;\n  const searchQuery = Array.isArray(req.query.search) ? req.query.search[0] : req.query.search;\n  let results;\n\n  try {\n    if (categoryQuery && searchQuery) {\n      results = await _lib_prisma__WEBPACK_IMPORTED_MODULE_1__.default.category.findMany({\n        where: {\n          OR: [{\n            type: categoryQuery\n          }, {\n            name: categoryQuery\n          }]\n        },\n        include: {\n          hobbies: {\n            where: {\n              title: {\n                startsWith: searchQuery,\n                mode: 'insensitive'\n              }\n            }\n          }\n        }\n      });\n    } else if (searchQuery) {\n      results = await _lib_prisma__WEBPACK_IMPORTED_MODULE_1__.default.category.findMany({\n        include: {\n          hobbies: {\n            where: {\n              title: {\n                startsWith: searchQuery,\n                mode: 'insensitive'\n              }\n            }\n          }\n        }\n      });\n    } else if (categoryQuery) {\n      results = await _lib_prisma__WEBPACK_IMPORTED_MODULE_1__.default.category.findMany({\n        where: {\n          OR: [{\n            type: categoryQuery\n          }, {\n            name: categoryQuery\n          }]\n        },\n        include: {\n          hobbies: true\n        }\n      });\n    } else {\n      results = await _lib_prisma__WEBPACK_IMPORTED_MODULE_1__.default.category.findMany({\n        include: {\n          hobbies: true\n        }\n      });\n    }\n\n    res.status(200).json(results);\n  } catch (error) {\n    if (error instanceof _prisma_client__WEBPACK_IMPORTED_MODULE_0__.Prisma.PrismaClientKnownRequestError || error instanceof _prisma_client__WEBPACK_IMPORTED_MODULE_0__.Prisma.PrismaClientUnknownRequestError) {\n      console.error(error.message);\n    }\n\n    ;\n    res.status(500).json({\n      error: 'Internal server error.'\n    });\n  }\n\n  ;\n}\n;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QjtBQUFDQyxNQUFBQSxLQUFLLEVBQUU7QUFBUixLQUFyQjtBQUNIOztBQUFBO0FBQ0o7QUFBQSIsInNvdXJjZXMiOlsid2VicGFjazovL2hvYmJ5LWFwcC8uL3BhZ2VzL2FwaS9ob2JiaWVzLnRzPzdiM2IiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHR5cGUgeyBOZXh0QXBpUmVxdWVzdCwgTmV4dEFwaVJlc3BvbnNlIH0gZnJvbSAnbmV4dCc7XG5pbXBvcnQgeyBQcmlzbWEgfSBmcm9tICdAcHJpc21hL2NsaWVudCdcbmltcG9ydCBwcmlzbWEgZnJvbSAnLi4vLi4vbGliL3ByaXNtYSc7XG5cbi8vIEdFVCAvYXBpL2hvYmJpZXM/Y2F0ZWdvcnk9OmNhdGVnb3J5UXVlcnkmc2VhcmNoPTpzZWFyY2hRdWVyeVxuZXhwb3J0IGRlZmF1bHQgYXN5bmMgZnVuY3Rpb24gaGFuZGxlKHJlcTogTmV4dEFwaVJlcXVlc3QsIHJlczogTmV4dEFwaVJlc3BvbnNlKSB7XG4gICAgY29uc3QgY2F0ZWdvcnlRdWVyeSA9IEFycmF5LmlzQXJyYXkocmVxLnF1ZXJ5LmNhdGVnb3J5KSA/IHJlcS5xdWVyeS5jYXRlZ29yeVswXSA6IHJlcS5xdWVyeS5jYXRlZ29yeTtcbiAgICBjb25zdCBzZWFyY2hRdWVyeSA9IEFycmF5LmlzQXJyYXkocmVxLnF1ZXJ5LnNlYXJjaCkgPyByZXEucXVlcnkuc2VhcmNoWzBdIDogcmVxLnF1ZXJ5LnNlYXJjaDtcbiAgICBsZXQgcmVzdWx0cztcbiAgICB0cnkge1xuICAgICAgICBpZiAoY2F0ZWdvcnlRdWVyeSAmJiBzZWFyY2hRdWVyeSkge1xuICAgICAgICAgICAgcmVzdWx0cyA9IGF3YWl0IHByaXNtYS5jYXRlZ29yeS5maW5kTWFueSh7XG4gICAgICAgICAgICAgICAgd2hlcmU6IHtcbiAgICAgICAgICAgICAgICAgICAgT1I6IFtcbiAgICAgICAgICAgICAgICAgICAgICAgIHsgdHlwZTogY2F0ZWdvcnlRdWVyeSB9LCBcbiAgICAgICAgICAgICAgICAgICAgICAgIHsgbmFtZTogY2F0ZWdvcnlRdWVyeSB9XG4gICAgICAgICAgICAgICAgICAgIF1cbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGluY2x1ZGU6IHtcbiAgICAgICAgICAgICAgICAgICAgaG9iYmllczoge1xuICAgICAgICAgICAgICAgICAgICAgICAgd2hlcmU6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogeyBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhcnRzV2l0aDogc2VhcmNoUXVlcnksIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtb2RlOiAnaW5zZW5zaXRpdmUnIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pXG4gICAgICAgIH0gZWxzZSBpZiAoc2VhcmNoUXVlcnkpIHtcbiAgICAgICAgICAgIHJlc3VsdHMgPSBhd2FpdCBwcmlzbWEuY2F0ZWdvcnkuZmluZE1hbnkoe1xuICAgICAgICAgICAgICAgIGluY2x1ZGU6IHtcbiAgICAgICAgICAgICAgICAgICAgaG9iYmllczoge1xuICAgICAgICAgICAgICAgICAgICAgICAgd2hlcmU6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogeyBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhcnRzV2l0aDogc2VhcmNoUXVlcnksIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtb2RlOiAnaW5zZW5zaXRpdmUnIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pXG4gICAgICAgIH0gZWxzZSBpZiAoY2F0ZWdvcnlRdWVyeSkge1xuICAgICAgICAgICAgcmVzdWx0cyA9IGF3YWl0IHByaXNtYS5jYXRlZ29yeS5maW5kTWFueSh7XG4gICAgICAgICAgICB3aGVyZToge1xuICAgICAgICAgICAgICAgICAgICBPUjogW1xuICAgICAgICAgICAgICAgICAgICAgICAgeyB0eXBlOiBjYXRlZ29yeVF1ZXJ5IH0sIFxuICAgICAgICAgICAgICAgICAgICAgICAgeyBuYW1lOiBjYXRlZ29yeVF1ZXJ5IH1cbiAgICAgICAgICAgICAgICAgICAgXSAgXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBpbmNsdWRlOiB7XG4gICAgICAgICAgICAgICAgICAgIGhvYmJpZXM6IHRydWVcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmVzdWx0cyA9IGF3YWl0IHByaXNtYS5jYXRlZ29yeS5maW5kTWFueSh7XG4gICAgICAgICAgICAgICAgaW5jbHVkZToge1xuICAgICAgICAgICAgICAgICAgICBob2JiaWVzOiB0cnVlXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSlcbiAgICAgICAgfVxuICAgICAgICByZXMuc3RhdHVzKDIwMCkuanNvbihyZXN1bHRzKTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBpZiAoZXJyb3IgaW5zdGFuY2VvZiBQcmlzbWEuUHJpc21hQ2xpZW50S25vd25SZXF1ZXN0RXJyb3IgfHwgZXJyb3IgaW5zdGFuY2VvZiBQcmlzbWEuUHJpc21hQ2xpZW50VW5rbm93blJlcXVlc3RFcnJvcikge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcihlcnJvci5tZXNzYWdlKTtcbiAgICAgICAgfTtcbiAgICAgICAgcmVzLnN0YXR1cyg1MDApLmpzb24oe2Vycm9yOiAnSW50ZXJuYWwgc2VydmVyIGVycm9yLid9KVxuICAgIH07XG59OyJdLCJuYW1lcyI6WyJQcmlzbWEiLCJwcmlzbWEiLCJoYW5kbGUiLCJyZXEiLCJyZXMiLCJjYXRlZ29yeVF1ZXJ5IiwiQXJyYXkiLCJpc0FycmF5IiwicXVlcnkiLCJjYXRlZ29yeSIsInNlYXJjaFF1ZXJ5Iiwic2VhcmNoIiwicmVzdWx0cyIsImZpbmRNYW55Iiwid2hlcmUiLCJPUiIsInR5cGUiLCJuYW1lIiwiaW5jbHVkZSIsImhvYmJpZXMiLCJ0aXRsZSIsInN0YXJ0c1dpdGgiLCJtb2RlIiwic3RhdHVzIiwianNvbiIsImVycm9yIiwiUHJpc21hQ2xpZW50S25vd25SZXF1ZXN0RXJyb3IiLCJQcmlzbWFDbGllbnRVbmtub3duUmVxdWVzdEVycm9yIiwiY29uc29sZSIsIm1lc3NhZ2UiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./pages/api/hobbies.ts\n");

/***/ }),

/***/ "@prisma/client":
/*!*********************************!*\
  !*** external "@prisma/client" ***!
  \*********************************/
/***/ ((module) => {

module.exports = require("@prisma/client");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = (__webpack_exec__("./pages/api/hobbies.ts"));
module.exports = __webpack_exports__;

})();